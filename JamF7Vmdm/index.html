<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>不予の测试笔记</title>
<meta name="description" content="<font color=#339999 size=3 >小小Tester的学习历程</font>" />
<link rel="shortcut icon" href="https://Shisuiyi.github.io/favicon.ico?v=1639488663053">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">

<link rel="stylesheet" href="https://Shisuiyi.github.io/styles/main.css">



  </head>
  <body>
    <div id="app" class="main px-4 flex flex-col lg:flex-row">
      <div id="sidebar" class="sidebar-wrapper lg:static lg:w-1/4">
  <div class="lg:sticky top-0">
    <div class="sidebar-content">
      <div class="flex lg:block p-4 lg:px-0 items-center fixed lg:static lg:block top-0 right-0 left-0 bg-white z-50">
        <i class="ri-menu-2-line lg:mt-4 text-2xl cursor-pointer animated fadeIn" onclick="openMenu()"></i>
        <a href="https://Shisuiyi.github.io">
          <img class="animated fadeInLeft avatar rounded-lg mx-4 lg:mt-32 lg:mx-0 mt-0 lg:w-24 lg:h-24 w-12 w-12" src="https://Shisuiyi.github.io/images/avatar.png?v=1639488663053" alt="">
        </a>
        <h1 class="animated fadeInLeft lg:text-4xl font-extrabold lg:mt-8 mt-0 text-xl" style="animation-delay: 0.2s">不予の测试笔记</h1>
      </div>
      
        <div class="animated fadeInLeft" style="animation-delay: 0.4s">
          <p class="my-4 text-gray-600 font-light hidden lg:block">
            文章目录
          </p>
          <div class="toc-container hidden lg:block">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E4%B8%80%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">一：配置文件</a>
<ul>
<li><a href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">1. 什么是配置文件</a></li>
<li><a href="#2%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8">2.配置文件的作用</a>
<ul>
<li><a href="#%E7%BB%8F%E5%85%B8%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">经典应用场景</a></li>
</ul>
</li>
<li><a href="#3%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">3.常见配置文件</a>
<ul>
<li><a href="#31-iniconfcnf%E6%96%87%E4%BB%B6">3.1 <code>ini/conf/cnf</code>文件</a></li>
<li><a href="#32-yaml%E6%96%87%E4%BB%B6">3.2 yaml文件</a>
<ul>
<li><a href="#321-%E7%AE%80%E4%BB%8B">3.2.1 简介</a></li>
<li><a href="#322-%E5%AF%B9%E8%B1%A1">3.2.2 对象</a></li>
<li><a href="#323-%E6%95%B0%E7%BB%84">3.2.3 数组</a></li>
<li><a href="#324-%E7%BB%84%E5%90%88%E7%BB%93%E6%9E%84">3.2.4 组合结构</a></li>
<li><a href="#325-%E6%A0%87%E9%87%8F">3.2.5 标量</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E4%BA%8C%E8%A7%A3%E6%9E%90%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">二：解析配置文件</a>
<ul>
<li><a href="#1configparser%E6%A8%A1%E5%9D%97">1.<code>ConfigParser</code>模块</a></li>
<li><a href="#2pyyaml%E6%A8%A1%E5%9D%97">2.<code>pyyaml</code>模块</a></li>
<li><a href="#3%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90%E6%A8%A1%E5%9D%97%E5%B0%81%E8%A3%85">3.配置文件解析模块封装</a>
<ul>
<li><a href="#31-%E5%8A%9F%E8%83%BD%E5%88%86%E6%9E%90">3.1 功能分析</a></li>
<li><a href="#32-%E5%B0%81%E8%A3%85%E6%88%90%E5%87%BD%E6%95%B0">3.2 封装成函数</a></li>
<li><a href="#33-%E5%B0%81%E8%A3%85%E6%88%90%E7%B1%BB">3.3 封装成类</a></li>
</ul>
</li>
<li><a href="#4%E5%BA%94%E7%94%A8%E5%88%B0%E9%A1%B9%E7%9B%AE%E4%B8%AD">4.应用到项目中</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      
    </div>
  </div>
</div>

<div class="menu-container">
  <i class="ri-arrow-left-line text-2xl cursor-pointer animated fadeIn close-menu-btn" onclick="closeMenu()"></i>
  <div>
    
      
        <a href="/" class="menu" style="animation-delay: 0s">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu" style="animation-delay: 0.2s">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu" style="animation-delay: 0.4s">
          标签
        </a>
      
    
      
        <a href="https://Shisuiyi.github.io/about" class="menu" style="animation-delay: 0.6000000000000001s" target="_blank">
          关于
        </a>
      
    
  </div>
  <div class="site-footer">
    <div class="py-4 text-gray-700">Powered by <a href="https://github.com/shisuiyi" target="_blank">shisuiyi</a></div>
    <a class="rss" href="https://Shisuiyi.github.io/atom.xml" target="_blank">RSS</a>
  </div>
</div>
<div class="mask" onclick="closeMenu()">
</div>
      <div class="content-wrapper py-32 lg:p-8 lg:w-3/4 post-detail animated fadeIn">
        <h1 class="text-3xl font-bold lg:mt-16">python常用的配置文件</h1>
        <div class="text-sm text-gray-700 lg:my-8">
          2021-11-16 / 10 min read
        </div>
        
          <img class="post-feature-image rounded-lg mx-auto my-4" src="https://Shisuiyi.github.io/post-images/JamF7Vmdm.webp" alt="">
        
        <div class="post-content yue">
          <h2 id="一配置文件">一：配置文件</h2>
<h3 id="1-什么是配置文件">1. 什么是配置文件</h3>
<p>配置文件是为程序配置参数和初始设置的文件。一般为文本文件，以<code>ini</code>,<code>conf</code>,<code>cnf</code>,<code>cfg</code>,<code>yaml</code>等作为后缀名。</p>
<p>例如<code>mysql</code>的配置文件<code>my.cnf</code>内容如下：</p>
<pre><code class="language-ini">[mysqld]
# Only allow connections from localhost
bind-address = 0.0.0.0
mysqlx-bind-address = 127.0.0.1
default_authentication_plugin = mysql_native_password
</code></pre>
<h3 id="2配置文件的作用">2.配置文件的作用</h3>
<p>通过配置文件可以使得代码中的参数根据配置文件进行动态配置，而不用直接修改代码的内部，减少风险提高代码复用。</p>
<h4 id="经典应用场景">经典应用场景</h4>
<ol>
<li>多个函数调用同一参数，这个时候最好进行配置化，改动配置文件就可以修改所有函数</li>
<li>某个参数需要能够动态改变</li>
</ol>
<h3 id="3常见配置文件">3.常见配置文件</h3>
<h4 id="31-iniconfcnf文件">3.1 <code>ini/conf/cnf</code>文件</h4>
<p>这类配置文件由节(section)，键(key)，值(value)由一下格式组成。</p>
<pre><code class="language-ini">[section1]
key1=value1
key2=value2
[section2]
key1=value1
</code></pre>
<h4 id="32-yaml文件">3.2 yaml文件</h4>
<h5 id="321-简介">3.2.1 简介</h5>
<p>yaml文件本质上是一种标记语言，和普通的配置文件相比它能表示更为复杂的数据结构。</p>
<p>它的基本语法规则如下：</p>
<ul>
<li>大小写敏感</li>
<li>使用缩进表示层级关系</li>
<li>缩进时不允许使用Tab键，只允许使用空格。</li>
<li>缩进的空格数目不重要，只要相同层级的元素左侧对齐即可</li>
</ul>
<p><code>#</code> 表示行注释</p>
<p>yaml支持三种数据结构：</p>
<ul>
<li>对象： 键值对的集合，又称为映射(mapping)/ 哈希(hashes) / 字典 (dict)</li>
<li>数组： 一组有顺序的值，又称为序列/ 列表（List)</li>
<li>标量：单个值</li>
</ul>
<h5 id="322-对象">3.2.2 对象</h5>
<p>对象的一组键值对使用冒号结构表示</p>
<pre><code class="language-yaml">name: xinlan
person: {name: xinlan, age: 18}
</code></pre>
<h5 id="323-数组">3.2.3 数组</h5>
<p>一组连字符开头的行，构成一个数组</p>
<pre><code class="language-yaml">- title
- username
- password
args: [title, username, password]
</code></pre>
<h5 id="324-组合结构">3.2.4 组合结构</h5>
<p>对象数组可以结合使用，形成组合结构</p>
<pre><code class="language-yaml">name: xinlan
age: 18
hobby: [python, 游戏, sport]
ouxiang: 
  - 
    name: 刘德华
    age: 60
  - 
    name: 任达华
    age: 65
</code></pre>
<h5 id="325-标量">3.2.5 标量</h5>
<p>yaml可以表示如下数据类型如下：</p>
<ul>
<li>字符串 默认字符串不要加引号，如果有特殊字符串，用引号包裹</li>
<li>布尔值 true,false</li>
<li>整数</li>
<li>浮点数</li>
<li>Null - 表示null</li>
<li>时间 iso8601 1949-10-01t09:00:00+08:00</li>
<li>日期 1949-10-01</li>
</ul>
<h2 id="二解析配置文件">二：解析配置文件</h2>
<h3 id="1configparser模块">1.<code>ConfigParser</code>模块</h3>
<p>python提供内置库<code>ConfigParser</code>用来解析<code>ini</code>格式的配置文件。</p>
<pre><code class="language-ini">[log]
filename=py45.log
debug=false
[mysql]
host=127.0.0.1
database=lemon
user=root
password=123456
port=3306
</code></pre>
<pre><code class="language-python">#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Time    : 2021/11/15 21:31
# @Author  : shisuiyi
# @File    : read_ini.py
# @Software: win10 Tensorflow1.13.1 python3.9
from configparser import ConfigParser

config = ConfigParser()  # 实例化
config.read('config.ini')  # 读取配置文件
print(config.sections())  # 返回所有的section名称字符串，一列表返回
print(config.options('mysql'))  # 返回指定section下对应的配置项的所有的字符串名称，以列表返回
print(config.items('log'))  # 返回指定section下所有的配置项的键值对，二元元组
print(config.get('mysql', 'port'))
print(config.getint('mysql', 'port'))  # 指定类型，帮我们转换类型
print(config[&quot;mysql&quot;]['host'])  # 直接以字典取值的方式读取ini文件

</code></pre>
<p>输出</p>
<pre><code class="language-python">C:\Users\12446\AppData\Local\Programs\Python\Python39\python.exe D:/Lemon/py45/day19/read_ini.py
['log', 'mysql']
['host', 'database', 'user', 'password', 'port']
[('filename', 'py45.log'), ('debug', 'false')]
3306
3306
127.0.0.1

Process finished with exit code 0

</code></pre>
<h3 id="2pyyaml模块">2.<code>pyyaml</code>模块</h3>
<p>python解析yaml文件需要安装第三方库<code>pyyaml</code>。</p>
<p>pip安装<code>pip install pyyaml</code></p>
<p>pyyaml库的使用非常简单，它会将整个yaml配置文件内容解析成一个python字典返回。</p>
<pre><code class="language-python">#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Time    : 2021/11/16 20:22
# @Author  : shisuiyi
# @File    : read_yaml.py
# @Software: win10 Tensorflow1.13.1 python3.9
import yaml

with open('config.yaml', 'r', encoding='utf-8') as f:
    config = yaml.load(f, Loader=yaml.FullLoader)
    print(config)
</code></pre>
<p>输出的是字典</p>
<pre><code class="language-python">{'log': {'filename': 'py45.log', 'debug': False},
 'mysql': {'host': '127.0.0.1',
  'database': 'lemon',
  'user': 'root',
  'password': '123456',
  'port': 3306}}
</code></pre>
<h3 id="3配置文件解析模块封装">3.配置文件解析模块封装</h3>
<h4 id="31-功能分析">3.1 功能分析</h4>
<p>封装前，我们先考虑一下，这个配置文件解析模块需要哪些功能？</p>
<ol>
<li>能够处理多种配置文件</li>
<li>返回值数据结构一致</li>
</ol>
<h4 id="32-封装成函数">3.2 封装成函数</h4>
<p>封装思路:</p>
<ol>
<li>输入参数为配置文件名，以及配置文件字符编码</li>
<li>根据配置文件名获取配置文件后缀判断配置文件类型，然后分别处理</li>
<li>ini配置文件解析后处理成字典，其实也可以不出处理，<code>ConfigParser</code>对象支持字典格式的取值</li>
<li>ini配置文件解析的一个重要的问题时，不能自动识别配置类型，所以解耦不是很彻底，有时候需要在引用代码中另外处理。</li>
<li>yaml库直接解析数据为一个字典，且自动识别数据类型，不需要做其他处理。</li>
</ol>
<p>代码封装如下</p>
<pre><code class="language-python">#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Time    : 2021/11/16 20:33
# @Author  : shisuiyi
# @File    : congig_handler.py
# @Software: win10 Tensorflow1.13.1 python3.9
from configparser import ConfigParser
import yaml


def get_config(filename, encoding='utf-8'):
    &quot;&quot;&quot;
    获取yaml/ini配置文件中的配置
    @param filename: str 文件名
    @param encoding: 文件字符编码
    &quot;&quot;&quot;
    # 1. 获取配置文件后缀
    suffix = filename.split('.')[-1]
    # 2.判断类型
    # 3.分别处理
    if suffix in ['yaml', 'yml']:
        with open(filename, 'r', encoding=encoding) as f:
            data = yaml.load(f, Loader=yaml.FullLoader)

    else:
        conf = ConfigParser()
        conf.read(filename)
        data = {}
        for section in conf.sections():
            data[section] = dict(conf.items(section))
    # 4. 返回
    return data


if __name__ == '__main__':
    res = get_config(r'D:\Lemon\py45\day18\config.yaml')
    print(res)
</code></pre>
<h4 id="33-封装成类">3.3 封装成类</h4>
<p>封装思路：</p>
<ol>
<li>整体思路和上面的函数封装是一致的</li>
<li><s>将解析ini文件和yaml文件的逻辑分开放到两个私有方法中</s></li>
<li>因为逻辑本身比较简单，面向对象封装和函数封装没有太多区别</li>
</ol>
<pre><code class="language-python">#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Time    : 2021/11/16 20:33
# @Author  : shisuiyi
# @File    : congig_handler.py
# @Software: win10 Tensorflow1.13.1 python3.9
from configparser import ConfigParser
import yaml


class Config:
    def __init__(self, filename, encoding='utf-8'):
        self.filename = filename
        self.encoding = encoding
        self.suffix = self.filename.split('.')[-1]
        if self.suffix not in ['yaml', 'yml', 'cnf', 'conf', 'ini']:
            raise ValueError('不能识别的配置文件后缀：{}'.format(self.suffix))

    def parse_ini(self):
        &quot;&quot;&quot;
        解析ini
        :return:
        &quot;&quot;&quot;
        conf = ConfigParser()
        conf.read(self.filename)
        data = {}
        for section in conf.sections():
            data[section] = dict(conf.items(section))
        return data

    def parse_yaml(self):
        &quot;&quot;&quot;
        解析yaml
        :return:
        &quot;&quot;&quot;
        with open(self.filename, 'r', encoding=self.encoding) as f:
            data = yaml.load(f, Loader=yaml.FullLoader)
        return data

    def parse(self):
        &quot;&quot;&quot;
        解析配置文件
        :return:
        &quot;&quot;&quot;
        if self.suffix in ['yaml', 'yml']:
            return self.parse_yaml()
        else:
            return self.parse_ini()


if __name__ == '__main__':
    cm = Config(r'D:\Lemon\py45\day20\config.yaml')
    res = cm.parse()
    print(res)
</code></pre>
<h3 id="4应用到项目中">4.应用到项目中</h3>
<p>一个框架封装的彻不彻底的标准是能否复用，也即是另外一个项目来用时，不需要修改框架的源码。</p>
<p>在我们目前封装的框架中，耦合高的点有：</p>
<ol>
<li>日志器调用时的传参</li>
<li>用例数据文件的路径</li>
<li>生成报告时的传参</li>
</ol>
<p>配置文件<code>config.yaml</code></p>
<pre><code class="language-yaml">log:
  name: py45
  filename: 'D:\Lemon\py45\day18\logs\my.log'
  debug: true
test_cases_dir: 'D:\Lemon\py45\day18\testcases'
test_data_file: 'D:\Lemon\py45\day18\testdata\testdata.xlsx'
test_report:
  report_dir: 'D:\Lemon\py45\day18\reports'
  title: 'py45期第一份测试报告'
  desc: '木森老师的测试报告模板'
  tester: 'shisuiyi'
</code></pre>
<p><code>get_config</code>函数解析后：</p>
<pre><code class="language-python">{'log': {'name': 'py45',
  'filename': 'D:\\Lemon\\py45\\day18\\logs\\my.log',
  'debug': True},
 'test_cases_dir': 'D:\\Lemon\\py45\\day18\\testcases',
 'test_data_file': 'D:\\Lemon\\py45\\day18\\testdata\\testdata.xlsx',
 'test_report': {'report_dir': 'D:\\Lemon\\py45\\day18\\reports',
  'title': 'py45期第一份测试报告',
  'desc': '木森老师的测试报告模板',
  'tester': 'shisuiyi'}}
</code></pre>
<p>我们可以将这些写到配置文件中，然后在框架代码中动态的获取配置文件的相对应设置，实现代码的解耦。</p>
<p>在<code>common</code> 文件夹下的 <code>__init__.py</code>的文件中调用解析配置文件的函数</p>
<pre><code class="language-python">#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Time    : 2021/11/13 10:16
# @Author  : shisuiyi
# @File    : __init__.py.py
# @Software: win10 Tensorflow1.13.1 python3.9
from common.log_handler import get_logger
from common.read_excel_tool import get_data_from_excel
from common.congig_handler import get_config


conf = get_config(r'D:\Lemon\py45\day19\config.yaml')  # 在这里将配置文件解析成字典格式返回
logger = get_logger(**conf['log'])  # 在这里创建日志器----日志器调用时的传参
</code></pre>
<pre><code class="language-python">#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Time    : 2021/11/8 21:08
# @Author  : shisuiyi
# @File    : test_login.py
# @Software: win10 Tensorflow1.13.1 python3.9


cases = get_data_from_excel(conf['test_data_file'], 'login') # ---测试用例数据的路径
</code></pre>
<pre><code class="language-python">#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Time    : 2021/11/9 20:14
# @Author  : shisuiyi
# @File    : main.py
# @Software: win10 Tensorflow1.13.1 python3.9
import unittest
import unittestreport
from common import conf


if __name__ == '__main__':
    discover = unittest.defaultTestLoader.discover(conf['test_cases_dir'])  # 表示收集当前目录下所有用例
    runner = unittestreport.TestRunner(discover, **conf['test_report'])
    runner.run()
</code></pre>

        </div>

        
          <a class="animated fadeInUp p-2 items-center text-sm text-gray-700 border hover:bg-gray-300 leading-none rounded-full flex lg:inline-flex m-4 " href="https://Shisuiyi.github.io/HFVPV5osD/">
            <span class="flex-auto">配置文件</span>
          </a>
        
          <a class="animated fadeInUp p-2 items-center text-sm text-gray-700 border hover:bg-gray-300 leading-none rounded-full flex lg:inline-flex m-4 " href="https://Shisuiyi.github.io/o5ETtCpkfo/">
            <span class="flex-auto">接口测试</span>
          </a>
        
          <a class="animated fadeInUp p-2 items-center text-sm text-gray-700 border hover:bg-gray-300 leading-none rounded-full flex lg:inline-flex m-4 " href="https://Shisuiyi.github.io/-xeCdFRiP/">
            <span class="flex-auto">unittest</span>
          </a>
        


        <div class="flex justify-between py-8">
          
            <div class="prev-post">
              <a href="https://Shisuiyi.github.io/VbQMqWSnj/">
                <h3 class="post-title">
                  <i class="ri-arrow-left-line"></i>
                  python项目配置文件的终极方案
                </h3>
              </a>
            </div>
          

          
            <div class="next-post">
              <a href="https://Shisuiyi.github.io/-pCORug1D/">
                <h3 class="post-title">
                   python 日志模块的使用
                  <i class="ri-arrow-right-line"></i>
                </h3>
              </a>
            </div>
          
        </div>

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '978584b9702b5d850dd5',
    clientSecret: 'b6647706cb7b990e2cd5ca77eccf73943df73a6c',
    repo: 'Shisuiyi.github.io',
    owner: 'shisuiyi',
    admin: ['shisuiyi'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

      </div>
    </div>

    <script src="https://Shisuiyi.github.io/media/prism.js"></script>  
<script>

Prism.highlightAll()
let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

// This should probably be throttled.
// Especially because it triggers during smooth scrolling.
// https://lodash.com/docs/4.17.10#throttle
// You could do like...
// window.addEventListener("scroll", () => {
//    _.throttle(doThatStuff, 100);
// });
// Only not doing it here to keep this Pen dependency-free.

window.addEventListener("scroll", event => {
  let fromTop = window.scrollY;

  mainNavLinks.forEach((link, index) => {
    let section = document.getElementById(decodeURI(link.hash).substring(1));
    let nextSection = null
    if (mainNavLinks[index + 1]) {
      nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
    }
    if (section.offsetTop <= fromTop) {
      if (nextSection) {
        if (nextSection.offsetTop > fromTop) {
          link.classList.add("current");
        } else {
          link.classList.remove("current");    
        }
      } else {
        link.classList.add("current");
      }
    } else {
      link.classList.remove("current");
    }
  });
});


document.addEventListener("DOMContentLoaded", function() {
  var lazyImages = [].slice.call(document.querySelectorAll(".post-feature-image.lazy"));

  if ("IntersectionObserver" in window) {
    let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          let lazyImage = entry.target
          lazyImage.style.backgroundImage = `url(${lazyImage.dataset.bg})`
          lazyImage.classList.remove("lazy")
          lazyImageObserver.unobserve(lazyImage)
        }
      });
    });

    lazyImages.forEach(function(lazyImage) {
      lazyImageObserver.observe(lazyImage)
    })
  } else {
    // Possibly fall back to a more compatible method here
  }
});

const menuContainer = document.querySelector('.menu-container')
const menus = document.querySelectorAll('.menu-container .menu')
const mask = document.querySelector('.mask')
const contentWrapper = document.querySelector('.content-wrapper')
const latestArticle = document.querySelector('.latest-article')
const readMore = document.querySelector('.read-more')
const indexPage = document.querySelector('.index-page')

const isHome = location.pathname === '/'
if (latestArticle) {
  latestArticle.style.display = isHome ? 'block' : 'none'
  readMore.style.display = isHome ? 'block' : 'none'
  indexPage.style.display = isHome ? 'none' : 'block'
}

const openMenu = () => {
  menuContainer.classList.add('open')
  menus.forEach(menu => {
    menu.classList.add('animated', 'fadeInLeft')
  })
  mask.classList.add('open')
  contentWrapper.classList.add('is-second')
}

const closeMenu = () => {
  menuContainer.classList.remove('open')
  menus.forEach(menu => {
    menu.classList.remove('animated', 'fadeInLeft')
  })
  mask.classList.remove('open')
  contentWrapper.classList.remove('is-second')
}
</script>
  
  </body>
</html>
