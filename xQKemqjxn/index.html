<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>师不予测试笔记</title>
<meta name="description" content="<font color=#6495ED size=2 >小小Tester的学习历程</font>" />
<link rel="shortcut icon" href="https://Shisuiyi.github.io/favicon.ico?v=1637324521273">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">

<link rel="stylesheet" href="https://Shisuiyi.github.io/styles/main.css">



  </head>
  <body>
    <div id="app" class="main px-4 flex flex-col lg:flex-row">
      <div id="sidebar" class="sidebar-wrapper lg:static lg:w-1/4">
  <div class="lg:sticky top-0">
    <div class="sidebar-content">
      <div class="flex lg:block p-4 lg:px-0 items-center fixed lg:static lg:block top-0 right-0 left-0 bg-white z-50">
        <i class="ri-menu-2-line lg:mt-4 text-2xl cursor-pointer animated fadeIn" onclick="openMenu()"></i>
        <a href="https://Shisuiyi.github.io">
          <img class="animated fadeInLeft avatar rounded-lg mx-4 lg:mt-32 lg:mx-0 mt-0 lg:w-24 lg:h-24 w-12 w-12" src="https://Shisuiyi.github.io/images/avatar.png?v=1637324521273" alt="">
        </a>
        <h1 class="animated fadeInLeft lg:text-4xl font-extrabold lg:mt-8 mt-0 text-xl" style="animation-delay: 0.2s">师不予测试笔记</h1>
      </div>
      
        <div class="animated fadeInLeft" style="animation-delay: 0.4s">
          <p class="my-4 text-gray-600 font-light hidden lg:block">
            文章目录
          </p>
          <div class="toc-container hidden lg:block">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#1-%E5%87%BD%E6%95%B0%E7%9A%84%E6%A6%82%E5%BF%B5">1. 函数的概念</a></li>
<li><a href="#2-python-%E4%B8%AD%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89">2. python 中函数的定义</a>
<ul>
<li><a href="#%E5%AE%9E%E4%BE%8B%E7%94%9F%E6%97%A5%E6%AD%8C">实例：生日歌</a></li>
</ul>
</li>
<li><a href="#3-%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B">3. 函数的调用过程</a></li>
<li><a href="#4-%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0">4. 函数的参数</a>
<ul>
<li><a href="#41-%E5%BD%A2%E5%8F%82">4.1 形参</a>
<ul>
<li><a href="#411-%E5%BF%85%E9%A1%BB%E5%8F%82%E6%95%B0">4.1.1 必须参数</a>
<ul>
<li><a href="#%E6%A1%88%E4%BE%8B">案例：</a></li>
</ul>
</li>
<li><a href="#412-%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0">4.1.2 默认参数</a>
<ul>
<li><a href="#%E6%A1%88%E4%BE%8B-2">案例：</a></li>
</ul>
</li>
<li><a href="#413-%E4%B8%8D%E5%AE%9A%E5%8F%82%E6%95%B0">4.1.3 不定参数</a>
<ul>
<li><a href="#%E4%BD%8D%E7%BD%AE%E4%B8%8D%E5%AE%9A%E5%8F%82">位置不定参</a>
<ul>
<li><a href="#%E6%A1%88%E4%BE%8B-3">案例：</a></li>
</ul>
</li>
<li><a href="#%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8D%E5%AE%9A%E5%8F%82">关键字不定参</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#42-%E5%AE%9E%E5%8F%82">4.2 实参</a>
<ul>
<li><a href="#421-%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0">4.2.1 位置参数</a>
<ul>
<li><a href="#%E6%A1%88%E4%BE%8B-4">案例</a></li>
</ul>
</li>
<li><a href="#422-%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0">4.2.2 关键字参数</a>
<ul>
<li><a href="#%E6%A1%88%E4%BE%8B-5">案例</a></li>
</ul>
</li>
<li><a href="#423-%E5%9C%A8%E4%BC%A0%E9%80%92%E5%AE%9E%E5%8F%82%E6%97%B6%E7%9A%84%E7%94%A8%E6%B3%95">4.2.3 <code>*,**</code> 在传递实参时的用法</a>
<ul>
<li><a href="#%E5%95%A5%E6%98%AF%E8%A7%A3%E5%8C%85"><strong>啥是解包</strong></a></li>
<li><a href="#%E8%A7%A3%E5%8C%85"><code>*</code> 解包</a></li>
<li><a href="#%E8%A7%A3%E5%8C%85-2"><code>**</code> 解包</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#43-%E8%BF%94%E5%9B%9E%E5%80%BC">4.3 返回值</a>
<ul>
<li><a href="#%E6%A1%88%E4%BE%8B-6">案例：</a></li>
<li><a href="#%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E"><strong>函数的返回</strong></a>
<ul>
<li><a href="#%E5%AE%9E%E9%99%85%E6%A0%97%E5%AD%90"><strong>实际栗子</strong></a></li>
<li><a href="#return-%E8%AF%AD%E5%8F%A5%E6%9C%89%E4%B8%A4%E4%B8%AA%E5%B8%B8%E8%A7%81%E7%94%A8%E9%80%94"><strong>return 语句有两个常见用途</strong></a></li>
<li><a href="#%E6%8F%90%E5%89%8D%E9%80%80%E5%87%BA%E5%87%BD%E6%95%B0"><strong>提前退出函数</strong></a></li>
<li><a href="#%E6%8F%90%E5%89%8D%E9%80%80%E5%87%BA%E5%87%BD%E6%95%B0%E7%9A%84%E6%A0%97%E5%AD%90"><strong>提前退出函数的栗子</strong></a></li>
<li><a href="#%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><strong>函数的返回值</strong></a></li>
<li><a href="#return-%E4%B8%80%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%80%BC"><strong>return 一个返回值</strong></a></li>
<li><a href="#return-%E5%A4%9A%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%80%BC"><strong>return 多个返回值</strong></a></li>
<li><a href="#return-%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%BF%85%E9%A1%BB%E7%9A%84%E5%90%97"><strong>return 语句是必须的吗？</strong></a></li>
<li><a href="#%E5%87%BD%E6%95%B0-pass-%E8%AF%AD%E5%8F%A5"><strong>函数 + pass 语句</strong></a></li>
<li><a href="#%E9%94%99%E8%AF%AF%E5%86%99%E6%B3%95"><strong>错误写法</strong></a></li>
<li><a href="#%E6%AD%A3%E7%A1%AE%E5%86%99%E6%B3%95"><strong>正确写法</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#5-lambda">5. lambda</a><br>
*
<ul>
<li><a href="#%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F%E5%A6%82%E4%B8%8B">语法格式如下：</a></li>
<li><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%89-lambda-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0">为什么有 lambda 匿名函数</a></li>
<li><a href="#lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E8%AF%AD%E6%B3%95">lambda 表达式的语法</a></li>
<li><a href="#lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%B0%8F%E6%A0%97%E5%AD%90">lambda 表达式小栗子</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8-lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E9%87%8D%E5%86%99%E4%B8%8A%E9%9D%A2%E7%9A%84%E5%B0%86%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92">使用 lambda 表达式重写上面的将函数作为参数传递</a></li>
</ul>
</li>
<li><a href="#6-%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F">6. 变量作用域</a>
<ul>
<li><a href="#61-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F">6.1 全局变量</a></li>
<li><a href="#62-%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F">6.2 局部变量</a>
<ul>
<li><a href="#%E6%A1%88%E4%BE%8B-7">案例</a></li>
</ul>
</li>
<li><a href="#62-global-%E5%85%B3%E9%94%AE%E5%AD%97">6.2 global 关键字</a>
<ul>
<li><a href="#%E6%A1%88%E4%BE%8B-8">案例：</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#7python-%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0">7.python 内建函数</a>
<ul>
<li><a href="#71-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%B1%BB">7.1 基本数据类型类</a>
<ul>
<li><a href="#711-int">7.1.1 int</a></li>
<li><a href="#712-float">7.1.2 float</a></li>
<li><a href="#713-complex">7.1.3 complex</a></li>
<li><a href="#714-str">7.14 str</a></li>
<li><a href="#715-list">7.15 list</a></li>
<li><a href="#716-tuple">7.16 tuple</a></li>
<li><a href="#717-set">7.17 set</a></li>
<li><a href="#718-dict">7.18 dict</a></li>
</ul>
</li>
<li><a href="#72-%E5%B8%B8%E7%94%A8%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0">7.2 常用内建函数</a>
<ul>
<li><a href="#721-print">7.2.1 print</a></li>
<li><a href="#722-input">7.2.2 input</a></li>
<li><a href="#723-type">7.2.3 type</a></li>
<li><a href="#724-dir">7.2.4 dir</a></li>
<li><a href="#725-help">7.2.5 help</a></li>
<li><a href="#726-len">7.2.6 len</a></li>
<li><a href="#727-hash">7.2.7 hash</a></li>
<li><a href="#728-iter">7.2.8 iter</a></li>
<li><a href="#729-id">7.2.9 id</a></li>
<li><a href="#7210-range">7.2.10 range</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      
    </div>
  </div>
</div>

<div class="menu-container">
  <i class="ri-arrow-left-line text-2xl cursor-pointer animated fadeIn close-menu-btn" onclick="closeMenu()"></i>
  <div>
    
      
        <a href="/" class="menu" style="animation-delay: 0s">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu" style="animation-delay: 0.2s">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu" style="animation-delay: 0.4s">
          标签
        </a>
      
    
      
        <a href="https://Shisuiyi.github.io/about" class="menu" style="animation-delay: 0.6000000000000001s" target="_blank">
          关于
        </a>
      
    
  </div>
  <div class="site-footer">
    <div class="py-4 text-gray-700">Powered by <a href="https://github.com/shisuiyi" target="_blank">shisuiyi</a></div>
    <a class="rss" href="https://Shisuiyi.github.io/atom.xml" target="_blank">RSS</a>
  </div>
</div>
<div class="mask" onclick="closeMenu()">
</div>
      <div class="content-wrapper py-32 lg:p-8 lg:w-3/4 post-detail animated fadeIn">
        <h1 class="text-3xl font-bold lg:mt-16"> python 的函数与代码复用</h1>
        <div class="text-sm text-gray-700 lg:my-8">
          2021-10-26 / 21 min read
        </div>
        
          <img class="post-feature-image rounded-lg mx-auto my-4" src="https://Shisuiyi.github.io/post-images/xQKemqjxn.jpg" alt="">
        
        <div class="post-content yue">
          <p>看下面一段伪代码：</p>
<pre><code class="language-python">	if cpu使用率 &gt;80%:
		连接邮箱
		发送邮件
		关闭邮箱
	if 内存使用率 &gt;80%:
		连接邮箱
		发送邮件
		关闭邮箱
	if 硬盘使用率 &gt;80%:
		连接邮箱
		发送邮件
		关闭邮箱
</code></pre>
<p>思考这段代码有什么问题？</p>
<h2 id="1-函数的概念">1. 函数的概念</h2>
<p>函数是一段具有特定功能的，可重用的语句组，用函数名来表示并通过函数名进行完成功能调用。</p>
<p>函数也可以看作是一段具有名字的子程序，可以在需要的地方调用执行，不需要再每个执行地方重复编写这些语句。每次使用函数可以提供不同的参数作为输入，以实现对不同数据的处理；函数执行后，还可以以反馈相应的处理结果。</p>
<p>函数是一种功能抽象。</p>
<h2 id="2-python-中函数的定义">2. python 中函数的定义</h2>
<p>Python 定义一个函数使用 <code>def</code> 关键字，语法形式如下：</p>
<pre><code class="language-python">def &lt;函数名&gt;(&lt;参数列表&gt;)：

	&lt;函数体&gt;

	return &lt;返回值列表&gt;
</code></pre>
<h3 id="实例生日歌">实例：生日歌</h3>
<p>过生日时要为朋友唱生日歌，歌词为：</p>
<pre><code class="language-python">Happy birthday to you！

Happy birthday to you！

Happy birthday，dear&lt;名字&gt;

Happy birthday to you!
</code></pre>
<p>编写程序为 <code>Mike</code> 和 <code>Lily</code> 输出生日歌。最简单的方式是重复使用 <code>print()</code> 语句</p>
<pre><code class="language-python"># 最简单的方式
print('Happy birthday to you！')
print('Happy birthday to you！')
print('Happy birthday, dear Mike！')
print('Happy birthday to you！')

print('Happy birthday to you！')
print('Happy birthday to you！')
print('Happy birthday, dear Lily！')
print('Happy birthday to you！')
</code></pre>
<p>Happy birthday to you！<br>
Happy birthday to you！<br>
Happy birthday, dear Mike！<br>
Happy birthday to you！<br>
Happy birthday to you！<br>
Happy birthday to you！<br>
Happy birthday, dear Lily！<br>
Happy birthday to you！<br>
以函数的方式</p>
<pre><code class="language-python"># 定义函数
def happy():
    print('Happy birthday to you！')

def happy_birthday(name):
    happy()
    happy()
    print('Happy birthday, dear {}！'.format(name))
    happy()

# 调用函数
happy_birthday('Mike')
print()
happy_birthday('Lily')
</code></pre>
<p>Happy birthday to you！<br>
Happy birthday to you！<br>
Happy birthday, dear Mike！<br>
Happy birthday to you！</p>
<p>Happy birthday to you！<br>
Happy birthday to you！<br>
Happy birthday, dear Lily！<br>
Happy birthday to you！<br>
看起来感和上面的直接 print 还多了几行代码，但是考虑如果要给 100 个人唱生日歌的情况。</p>
<h2 id="3-函数的调用过程">3. 函数的调用过程</h2>
<p>程序调用一个函数需要执行以下四个步骤：</p>
<ol>
<li>调用程序在调用处暂停执行</li>
<li>在调用时将实参赋值给函数的形参</li>
<li>执行函数体语句</li>
<li>函数调用结束给出返回值，程序回到调用前的暂停处继续执行</li>
</ol>
<p>上面的 <code>happy_birthday</code> 函数的调用过程</p>
<p><img src="https://Shisuiyi.github.io/post-images/1635255358738.png" alt="" loading="lazy"><br>
<img src="https://Shisuiyi.github.io/post-images/1635255367649.png" alt="" loading="lazy"><br>
<img src="https://Shisuiyi.github.io/post-images/1635255372596.png" alt="" loading="lazy"></p>
<h2 id="4-函数的参数">4. 函数的参数</h2>
<p>定义函数时 <code>()</code> 里的参数叫形参（形式参数），它只是一个变量名，供函数体中的代码调用。</p>
<p>函数调用时，传入 <code>()</code> 里的参数叫实参（实际参数），它是实际的数据，会传递给形参，供函数体执行。</p>
<h3 id="41-形参">4.1 形参</h3>
<p>定义函数时，形参根据功能不同，可以定义几种类型。</p>
<h4 id="411-必须参数">4.1.1 必须参数</h4>
<p>在定义函数时，如果要求调用者必须传递实参给这个形参，它就是必须参数。</p>
<p>直接定义在函数名后的 <code>()</code> 中的形参就是必须参数。</p>
<p>例如上面的 <code>happy_birthday</code> 函数中的 <code>name</code>。</p>
<h5 id="案例">案例：</h5>
<p>定义一个函数接收两个数，然后打印它们的和</p>
<pre><code class="language-python">def add(x,y):
    print(x+y)
add(1)  # 调用时必须传递实参给必须参数，否则报错
</code></pre>
<hr>
<p>TypeError Traceback (most recent call last)</p>
<p>in<br>
----&gt; 1 add(1) # 调用时必须传递实参给必须参数，否则报错</p>
<p>TypeError: add() missing 1 required positional argument: 'y'</p>
<h4 id="412-默认参数">4.1.2 默认参数</h4>
<p>在定义函数时，某些形参有可能在调用时不用接收实参，这种情况可以定义为默认参数。</p>
<p>在函数名后 <code>()</code> 中，以 <code>参数名=默认值</code> 的形式定义的形参就是默认参数。</p>
<p>注意：默认参数必须定义在必须参数的后面</p>
<h5 id="案例-2">案例：</h5>
<p>定义一个函数，它接收两个参数 <code>content</code> 和 <code>times</code>,</p>
<p><code>content</code> 是函数要打印的内容</p>
<p><code>times</code> 是函数打印的次数，如果不传递 <code>times</code> 默认打印 1 次</p>
<pre><code class="language-python"># 定义
def my_print(content, times=1):
    for i in range(times):
        print(content)
# 调用
my_print('happy birthday！')
my_print('happy birthday！', 2)
</code></pre>
<p>happy birthday！<br>
happy birthday！<br>
happy birthday！<br>
调用函数时传递实参给默认形参会覆盖默认值。</p>
<h4 id="413-不定参数">4.1.3 不定参数</h4>
<p>在定义函数时，不确定在调用时会传递多少个实参时，可以定义不定参数。</p>
<p>不定参数根据传递实参的不同（详见 4.2 实参）有分为两种。</p>
<h5 id="位置不定参">位置不定参</h5>
<p>在函数名后的 <code>()</code> 中，在形参前加 <code>*</code> 号可以定义位置不定参，通常它会定义为 <code>*args</code>。</p>
<p>它用来接收函数调用时，以位置参数传递过来的超过形参数量的多余的实参。</p>
<p>注意：不订参必须定义在默认参数后面</p>
<p>位置不定参数会将所有多余的<code>位置实参</code>创建成元组。</p>
<pre><code class="language-python">def func(a, *args):
    print(args,type(args))

func(1,2,3,4)
</code></pre>
<p>(2, 3, 4) &lt;class 'tuple'&gt;</p>
<h6 id="案例-3">案例：</h6>
<p>定义一个函数，接收 2 个以上的数，打印它们的和。</p>
<pre><code class="language-python">def add(x,y,*args):
    x += y
    for i in args:
        x += i
    print(x)
add(1,2,3,4)
</code></pre>
<p>10</p>
<h5 id="关键字不定参">关键字不定参</h5>
<p>在函数名后的 <code>()</code> 中，在形参前加 <code>**</code> 号可以定义关键字不定参，通常它会定义为 <code>**kwargs</code>。</p>
<p>它用来接收函数调用时，以关键字参数传递过来的超过形参数量的多余的实参。</p>
<p>注意：不订参必须定义在默认参数后面</p>
<p>关键字不定参数会将所有多余的<code>关键字实参</code>创建成字典。</p>
<pre><code class="language-python">def func(a, **kwargs):
    print(kwargs,type(kwargs))

func(a=1,b=2,c=3,d=4)
</code></pre>
<p>{'b': 2, 'c': 3, 'd': 4} &lt;class 'dict'&gt;</p>
<h3 id="42-实参">4.2 实参</h3>
<p>调用函数是传递实参有两种方式。</p>
<h4 id="421-位置参数">4.2.1 位置参数</h4>
<p>调用函数时，传递实参时默认会按照形参的位置一一对应，这种实参传递叫做位置参数。</p>
<h5 id="案例-4">案例</h5>
<p>定义一个函数实现打印一个数的 n 次幂。</p>
<pre><code class="language-python">def my_power(x, n):
    print(x**n)

my_power(3,2)
my_power(2,3)
</code></pre>
<p>9<br>
8</p>
<h4 id="422-关键字参数">4.2.2 关键字参数</h4>
<p>调用函数时，传递实参时以 <code>形参名=实参</code> 的形式传递参数，叫做关键字参数。</p>
<p>这是不用考虑参数的位置。</p>
<p>注意：关键字参数必须写在位置参数后面。</p>
<h5 id="案例-5">案例</h5>
<p>使用关键字参数调用上面的案例</p>
<pre><code class="language-python">my_power(x=3,n=2)
my_power(n=2,x=3)
my_power(3,n=2)
</code></pre>
<p>9<br>
9<br>
9</p>
<pre><code class="language-python">my_power(n=2,3)
</code></pre>
<p>File &quot;&quot;, line 1<br>
my_power(n=2,3)<br>
^<br>
SyntaxError: positional argument follows keyword argument</p>
<h4 id="423-在传递实参时的用法">4.2.3 <code>*,**</code> 在传递实参时的用法</h4>
<h5 id="啥是解包"><strong>啥是解包</strong></h5>
<ul>
<li>个人通俗理解：解开包袱，拿出东西</li>
<li>正确理解：将元素从可迭代对象中一个个取出来</li>
<li>python 中，解包是自动完成的</li>
</ul>
<h5 id="解包"><code>*</code> 解包</h5>
<p>在传递实参时，可以通过 <code>*</code> 对迭代对象进行解包。</p>
<pre><code class="language-python">def fun(a,b,*arg):
    print(a,b,arg)
ls = [1,2,3,4,5,6]
fun(*ls) # =&gt; fun(1,2,3,4,5,6)
# 解包成多个位置参数


# 输出结果
1 2 (3, 4, 5, 6)
</code></pre>
<h5 id="解包-2"><code>**</code> 解包</h5>
<p>在传递实参时，可以通过 <code>**</code> 对字典对象进行解包。</p>
<pre><code class="language-python">def fun(a,b, **kwargs):
    print(a,b,kwargs)
d = {'a': 1, 'b': 2, 'c': 3, 'd': 4}
fun(**d) # =&gt; fun(a=1,b=2,c=3,d=4)
# 解包成多个关键字参数
</code></pre>
<p>1 2 {'c': 3, 'd': 4}</p>
<h3 id="43-返回值">4.3 返回值</h3>
<p>函数还有一个很重要的功能就是返回结果。</p>
<p>python 中使用 <code>return</code> 关键字来退出函数，返回到函数被调用的地方继续往下执行。</p>
<p><code>return</code> 可以将 0 个，1 个，多个函数运算完的结果返回给函数被调用处的变量。</p>
<p>函数可以没有返回值，也就是说函数中可以没有 <code>return</code> 语句，这时函数返回 <code>None</code>，例如上面我们定义的那些函数。</p>
<p><code>return</code> 会将多个返回值以元组的形式返回。</p>
<h4 id="案例-6">案例：</h4>
<p>定义一个函数接收 2 个或多个数值，并返回它们的和。</p>
<pre><code class="language-python">def add(x,y,*args):
    x += y
    for i in args:
        x += i
    return x

res = add(1,2)
print(res)
</code></pre>
<p>3<br>
定义一个函数接收被除数 x 和除数 y，返回它们的商和余数。</p>
<pre><code class="language-python">def my_mod(x,y):
    res1 = None
    res2 = None
    if x &lt; y:
        res1 = x
        res2 = 0
    else:
        i = 0
        while x &gt;= y:
            x = x-y
            i += 1
        res1 = i
        res2 = x

    return res1, res2
res = my_mod(10,3)
print(res)
</code></pre>
<p>(3, 1)</p>
<h4 id="函数的返回"><strong>函数的返回</strong></h4>
<p>Python 提供了 return 语句用于从函数中返回，当程序执行到 return 语句时，程序从函数中返回到调用函数的地方</p>
<h5 id="实际栗子"><strong>实际栗子</strong></h5>
<pre><code class="language-python"># return
def test2():
    print('Before return')
    return
    # 这条语句不会被执行
    print('After return')


print('Before test')
test2()
print('After test')


# 输出结果
Before test
Before return
After test
</code></pre>
<p>如果用的是 pycharm，after return 这一行会提示 warning：This code is unreachable，这行代码是无法到达的</p>
<figure data-type="image" tabindex="1"><img src="https://Shisuiyi.github.io/post-images/1635254925234.png" alt="" loading="lazy"></figure>
<h5 id="return-语句有两个常见用途"><strong>return 语句有两个常见用途</strong></h5>
<ul>
<li>提前退出函数</li>
<li>返回具体的数据</li>
</ul>
<h5 id="提前退出函数"><strong>提前退出函数</strong></h5>
<ul>
<li>通常情况下，函数执行到最后一条语句时退出函数的执行</li>
<li>但某些情况下，可以通过 return 语句提前退出函数（像上面的栗子其实就是了）</li>
</ul>
<h5 id="提前退出函数的栗子"><strong>提前退出函数的栗子</strong></h5>
<pre><code class="language-python"># return
def check(gender, age):
    if gender == 'female':
        return
    if age &lt; 50:
        return

    print('We only process old man')
    print(gender)
    print(age)


print(check(&quot;male&quot;, 49))
print(check(&quot;female&quot;, 55))

check(&quot;male&quot;, 55)


# 输出结果
None
None

We only process old man
male
55
</code></pre>
<p>如果是提前退出函数，那么会返回 None</p>
<h5 id="函数的返回值"><strong>函数的返回值</strong></h5>
<p>return 语句可以携带参数，该参数作为函数的计算结果返回给调用方</p>
<pre><code class="language-python">return 返回值
</code></pre>
<h5 id="return-一个返回值"><strong>return 一个返回值</strong></h5>
<p>求和函数</p>
<pre><code class="language-python"># return a
def test3(a, b):
    return a + b


print(test3(1, 2))


# 输出结果
3
</code></pre>
<h5 id="return-多个返回值"><strong>return 多个返回值</strong></h5>
<pre><code class="language-python"># return a,b
def test4(a, b, c):
    if a &gt; b:
        return a, c
    else:
        return b, c


print(test4(1, 2, 3))
print(test4(2, 1, 3))


# 输出结果
(2, 3)
(2, 3)
</code></pre>
<p>return 多个返回值，得到的是一个元组</p>
<h5 id="return-语句是必须的吗"><strong>return 语句是必须的吗？</strong></h5>
<ul>
<li>不是，函数可以不写 return 语句</li>
<li>但变量赋值这个函数的时候，会得到一个 None</li>
</ul>
<h5 id="函数-pass-语句"><strong>函数 + pass 语句</strong></h5>
<p>有时候只想先声明一个函数，但并不想这么快写代码块，怎么办呢</p>
<h5 id="错误写法"><strong>错误写法</strong></h5>
<pre><code class="language-python">def test():
    # 啥代码没有
</code></pre>
<p>会爆红</p>
<h5 id="正确写法"><strong>正确写法</strong></h5>
<pre><code class="language-python">def test():
    pass


print(&quot;调用函数：&quot;, test(), &quot;hahaha&quot;)


# 输出结果
调用函数： None hahaha
</code></pre>
<p>Python 提供了 pass 语句，代表函数没有功能代码块</p>
<h2 id="5-lambda">5. lambda</h2>
<h4 id="语法格式如下">语法格式如下：</h4>
<p>简单来说，lambda 函数用来定义简单的，能够在一行内表示的函数。<br>
<code>lambda arg1,arg2,... : expression</code><br>
案例</p>
<pre><code class="language-python">f = lambda x,y : x + y
res = f(1,2)
print(res)
</code></pre>
<p>3<br>
lambda 函数一般不会直接定义，通常是作为参数传递给其他函数作为参数使用。</p>
<h4 id="为什么有-lambda-匿名函数">为什么有 lambda 匿名函数</h4>
<ul>
<li>在传入函数时，有些时候，不需要显式地定义函数，直接传入匿名函数更方便</li>
<li>Python 提供了 lambda 表达式对匿名函数提供支持</li>
</ul>
<h4 id="lambda-表达式的语法">lambda 表达式的语法</h4>
<pre><code class="language-python">lambda args: expression
</code></pre>
<p>expression 只允许是一条表达式，所以使用很受限</p>
<h4 id="lambda-表达式小栗子">lambda 表达式小栗子</h4>
<pre><code class="language-python">lambda x:x&gt;2
</code></pre>
<p>等价函数写法</p>
<pre><code class="language-python">def select_positive(x):
    return x &gt; 2
</code></pre>
<h4 id="使用-lambda-表达式重写上面的将函数作为参数传递">使用 lambda 表达式重写上面的将函数作为参数传递</h4>
<pre><code class="language-python">def test(list, select_fun):
    for item in list:
        if select_fun(item):
            print(item)


list = [1, -1, 2, -2, 3, -3]

test(list, lambda x: x &gt; 0)
test(list, lambda x: x &lt; 0)


# 输出结果
1
2
3
-1
-2
-3
</code></pre>
<pre><code class="language-python">ls=[('多少才能健康',59),
    ('KOI',9),
    ('DKFVLCDASKV',90),
    ('二的非常',40)]
</code></pre>
<p>成绩的排序</p>
<pre><code class="language-python">ls.sort(key =lambda x:x[1])
print(ls)
</code></pre>
<p>[('KOI', 9), ('二的非常', 40), ('多少才能健康', 59), ('DKFVLCDASKV', 90)]</p>
<h2 id="6-变量作用域">6. 变量作用域</h2>
<p>python 中一个变量能够被访问的范围叫做作用域。根据作用域的大小简单的分为全局变量和局部变量。</p>
<h3 id="61-全局变量">6.1 全局变量</h3>
<p>python 是解释型编程语言，解释器在运行一个 python 程序时会在计算机内存中申请一块内存用来运行这个程序。全局变量在这块内存空间中都可以被访问和修改。</p>
<p>直接定义在函数外的变量就是全局变量，在程序运行的全过程有效。</p>
<h3 id="62-局部变量">6.2 局部变量</h3>
<p>定义在函数里，的变量就是局部变量，它只在它定义的函数里起作用，一旦函数执行完毕它就不存在了。</p>
<h4 id="案例-7">案例</h4>
<pre><code class="language-python">a = 1 # 全局变量

def fun():
    print(a)
fun()
</code></pre>
<p>1<br>
上面的案例说明全局变量能够在函数里访问。</p>
<pre><code class="language-python">def fun():
    b = 2  # 局部变量
    print(b)

fun()
print(b)
</code></pre>
<p>2</p>
<hr>
<pre><code class="language-python"># 输出
NameError Traceback (most recent call last)

in
4
5 fun()
----&gt; 6 print(b)

NameError: name 'b' is not defined
</code></pre>
<p>上面的案例说明局部变量在函数外部不能直接访问</p>
<pre><code class="language-python">a = 1
def fun():

    a += 1  # 尝试直接在函数内部修改全局变量
    print(a)
fun()
</code></pre>
<hr>
<pre><code class="language-python"># 输出
UnboundLocalError Traceback (most recent call last)

in
4 a += 1 # 尝试直接在函数内部修改全局变量
5 print(a)
----&gt; 6 fun()

in fun()
2 def fun():
3
----&gt; 4 a += 1 # 尝试直接在函数内部修改全局变量
5 print(a)
6 fun()

UnboundLocalError: local variable 'a' referenced before assignment
</code></pre>
<p>上面的案例说明在函数内部不能直接修改全局变量（不可变数据类型）</p>
<p>可变数据类型的修改不受影响，所以可变类型的全局变量在使用的过程中需要格外的注意</p>
<pre><code class="language-python">a = [1,2]
def func():
    a[0] = 2
    print(a)
func()
print(a)
</code></pre>
<p>[2, 2]<br>
[2, 2]</p>
<h3 id="62-global-关键字">6.2 global 关键字</h3>
<p>有时候需要在函数内部修改全局变量。</p>
<p>使用 <code>globals</code> 关键字可以在函数内部修改全局变量</p>
<h4 id="案例-8">案例：</h4>
<pre><code class="language-python">a = 1 # 全局变量

def fun():
    global a  # 申明 a 是全局变量
    a += 1
fun()
print(a)
</code></pre>
<p>2</p>
<h2 id="7python-内建函数">7.python 内建函数</h2>
<p>python 解释器提供了 70 多个内置函数。</p>
<pre><code class="language-python">import builtins
print(dir(builtins))
</code></pre>
<pre><code class="language-python">['ArithmeticError', 'AssertionError', 'AttributeError', 'BaseException', 'BlockingIOError', 'BrokenPipeError', 'BufferError', 'BytesWarning', 'ChildProcessError', 'ConnectionAbortedError', 'ConnectionError', 'ConnectionRefusedError', 'ConnectionResetError', 'DeprecationWarning', 'EOFError', 'Ellipsis', 'EnvironmentError', 'Exception', 'False', 'FileExistsError', 'FileNotFoundError', 'FloatingPointError', 'FutureWarning', 'GeneratorExit', 'IOError', 'ImportError', 'ImportWarning', 'IndentationError', 'IndexError', 'InterruptedError', 'IsADirectoryError', 'KeyError', 'KeyboardInterrupt', 'LookupError', 'MemoryError', 'ModuleNotFoundError', 'NameError', 'None', 'NotADirectoryError', 'NotImplemented', 'NotImplementedError', 'OSError', 'OverflowError', 'PendingDeprecationWarning', 'PermissionError', 'ProcessLookupError', 'RecursionError', 'ReferenceError', 'ResourceWarning', 'RuntimeError', 'RuntimeWarning', 'StopAsyncIteration', 'StopIteration', 'SyntaxError', 'SyntaxWarning', 'SystemError', 'SystemExit', 'TabError', 'TimeoutError', 'True', 'TypeError', 'UnboundLocalError', 'UnicodeDecodeError', 'UnicodeEncodeError', 'UnicodeError', 'UnicodeTranslateError', 'UnicodeWarning', 'UserWarning', 'ValueError', 'Warning', 'ZeroDivisionError', '**IPYTHON**', '**build_class**', '**debug**', '**doc**', '**import**', '**loader**', '**name**', '**package**', '**spec**', 'abs', 'all', 'any', 'ascii', 'bin', 'bool', 'breakpoint', 'bytearray', 'bytes', 'callable', 'chr', 'classmethod', 'compile', 'complex', 'copyright', 'credits', 'delattr', 'dict', 'dir', 'display', 'divmod', 'enumerate', 'eval', 'exec', 'filter', 'float', 'format', 'frozenset', 'get_ipython', 'getattr', 'globals', 'hasattr', 'hash', 'help', 'hex', 'id', 'input', 'int', 'isinstance', 'issubclass', 'iter', 'len', 'license', 'list', 'locals', 'map', 'max', 'memoryview', 'min', 'next', 'object', 'oct', 'open', 'ord', 'pow', 'print', 'property', 'range', 'repr', 'reversed', 'round', 'set', 'setattr', 'slice', 'sorted', 'staticmethod', 'str', 'sum', 'super', 'tuple', 'type', 'vars', 'zip']
</code></pre>
<p>小写的就是全局内建函数和类</p>
<h3 id="71-基本数据类型类">7.1 基本数据类型类</h3>
<h4 id="711-int">7.1.1 int</h4>
<pre><code class="language-python">语法结构：
int([x]) -&gt; integer    
int(x, base=10) -&gt; integer
</code></pre>
<p>将一个数字或字符串转换成整数。<br>
如果 x 不是一个数字，那么它必须是和 base 匹配的整数字符串表达式</p>
<pre><code class="language-python">  int(1.1)
</code></pre>
<p>1</p>
<pre><code class="language-python">  int('1')
</code></pre>
<p>1</p>
<pre><code class="language-python">  int('0b0101',2)
</code></pre>
<p>5</p>
<pre><code class="language-python">  int('0x11',16)
</code></pre>
<p>17</p>
<pre><code class="language-python">  int('0o11',8)
</code></pre>
<p>9</p>
<h4 id="712-float">7.1.2 float</h4>
<pre><code class="language-python">语法结构：float([*x*])
</code></pre>
<p>将一个字符串或数字转换为浮点数。</p>
<pre><code class="language-python">  float(123)
</code></pre>
<p>123.0</p>
<pre><code class="language-python">  float('1.2')
</code></pre>
<p>1.2</p>
<pre><code class="language-python"> float('-12345')
</code></pre>
<p>-12345.0</p>
<h4 id="713-complex">7.1.3 complex</h4>
<pre><code class="language-python">语法结构：complex(real=0, imag=0)
</code></pre>
<p>将字符串或数字转换为复数。如果第一个形参是字符串，则它被解释为一个复数，并且函数调用时必须没有第二个形参。第二个形参不能是字符串。每个实参都可以是任意的数值类型（包括复数）</p>
<p>创建一个复数通过实部和虚部</p>
<pre><code class="language-python">complex(10,8)
</code></pre>
<p>(10+8j)</p>
<h4 id="714-str">7.14 str</h4>
<pre><code class="language-python">语法结构：str(object='')
</code></pre>
<p>通过给定的对象创建一个新的字符串对象。</p>
<pre><code class="language-python">  str(1)
</code></pre>
<p>'1'</p>
<pre><code class="language-python">  str([1,2,3])
</code></pre>
<p>'[1, 2, 3]'</p>
<pre><code class="language-python">  str({'name':'xinlan'})
</code></pre>
<p>&quot;{'name': 'xinlan'}&quot;</p>
<h4 id="715-list">7.15 list</h4>
<pre><code>语法结构：list(iterable=())
</code></pre>
<p>根据传入的可迭代对象创建一个列表，如果没有参数返回空列表</p>
<pre><code class="language-python">  list()
</code></pre>
<p>[]</p>
<pre><code class="language-python">  list(range(10))
</code></pre>
<p>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</p>
<pre><code class="language-python">  list('abcde')
</code></pre>
<p>['a', 'b', 'c', 'd', 'e']</p>
<h4 id="716-tuple">7.16 tuple</h4>
<pre><code class="language-python">语法结构： tuple(iterable=())
</code></pre>
<p>根据传入的可迭代对象创建一个元组，如果没有参数返回空元组</p>
<pre><code class="language-python">  tuple()
</code></pre>
<p>()</p>
<pre><code class="language-python">  tuple('abcd')
</code></pre>
<p>('a', 'b', 'c', 'd')</p>
<h4 id="717-set">7.17 set</h4>
<pre><code class="language-python">语法结构： set(iterable)
</code></pre>
<p>根据传入的可迭代对象创建一个集合对象。</p>
<pre><code class="language-python">  set('abc')
</code></pre>
<p>{'a', 'b', 'c'}</p>
<pre><code class="language-python">  set(range(10))
</code></pre>
<p>{0, 1, 2, 3, 4, 5, 6, 7, 8, 9}</p>
<h4 id="718-dict">7.18 dict</h4>
<pre><code class="language-python">语法结构： 
dict(***kwarg*)
dict(*mapping*, ***kwarg*)
dict(*iterable*, ***kwarg*)
</code></pre>
<p>根据传入的参数创建一个字典对象</p>
<pre><code class="language-python">  # 形如(key, value)的键值对数据
dict([('name','xinlan'),('age',18)])
</code></pre>
<p>{'name': 'xinlan', 'age': 18}</p>
<pre><code class="language-python">  # 关键字参数
dict(name='xinlan',age=18)
</code></pre>
<p>{'name': 'xinlan', 'age': 18}</p>
<h3 id="72-常用内建函数">7.2 常用内建函数</h3>
<h4 id="721-print">7.2.1 print</h4>
<pre><code class="language-python">语法结构： print(value,..,sep=' ', end='\n')   
</code></pre>
<ul>
<li>value 会打印 value 的字符串形式</li>
<li>sep 分隔符，当有多个 value 时默认用空格作为分割</li>
<li>end 每次打印在最后默认添加回车换行符</li>
</ul>
<p>打印传入对象的字符串形式</p>
<pre><code class="language-python">  print(1,2,3,sep=',')
</code></pre>
<p>1,2,3</p>
<pre><code class="language-python">print(1,end='')
print(2)
</code></pre>
<p>12</p>
<h4 id="722-input">7.2.2 input</h4>
<p>接收用户的输入数据，以字符串的形式返回。</p>
<p>可以接收字符串参数最为提示信息输出</p>
<pre><code class="language-python">  input('&gt;&gt;&gt;:')
</code></pre>
<pre><code class="language-python">&gt;&gt;&gt;: aaa
'aaa'
</code></pre>
<h4 id="723-type">7.2.3 type</h4>
<pre><code class="language-python">语法结构：type(object)
</code></pre>
<p>返回 object 的类型</p>
<pre><code class="language-python">  type(1)
</code></pre>
<p>int</p>
<h4 id="724-dir">7.2.4 dir</h4>
<pre><code class="language-python">语法结构：([object])
</code></pre>
<p>返回传入对象的所有属性和方法名的列表</p>
<pre><code class="language-python">  print(dir(1))
</code></pre>
<p>['<strong>abs</strong>', '<strong>add</strong>', '<strong>and</strong>', '<strong>bool</strong>', '<strong>ceil</strong>', '<strong>class</strong>', '<strong>delattr</strong>', '<strong>dir</strong>', '<strong>divmod</strong>', '<strong>doc</strong>', '<strong>eq</strong>', '<strong>float</strong>', '<strong>floor</strong>', '<strong>floordiv</strong>', '<strong>format</strong>', '<strong>ge</strong>', '<strong>getattribute</strong>', '<strong>getnewargs</strong>', '<strong>gt</strong>', '<strong>hash</strong>', '<strong>index</strong>', '<strong>init</strong>', '<strong>init_subclass</strong>', '<strong>int</strong>', '<strong>invert</strong>', '<strong>le</strong>', '<strong>lshift</strong>', '<strong>lt</strong>', '<strong>mod</strong>', '<strong>mul</strong>', '<strong>ne</strong>', '<strong>neg</strong>', '<strong>new</strong>', '<strong>or</strong>', '<strong>pos</strong>', '<strong>pow</strong>', '<strong>radd</strong>', '<strong>rand</strong>', '<strong>rdivmod</strong>', '<strong>reduce</strong>', '<strong>reduce_ex</strong>', '<strong>repr</strong>', '<strong>rfloordiv</strong>', '<strong>rlshift</strong>', '<strong>rmod</strong>', '<strong>rmul</strong>', '<strong>ror</strong>', '<strong>round</strong>', '<strong>rpow</strong>', '<strong>rrshift</strong>', '<strong>rshift</strong>', '<strong>rsub</strong>', '<strong>rtruediv</strong>', '<strong>rxor</strong>', '<strong>setattr</strong>', '<strong>sizeof</strong>', '<strong>str</strong>', '<strong>sub</strong>', '<strong>subclasshook</strong>', '<strong>truediv</strong>', '<strong>trunc</strong>', '<strong>xor</strong>', 'as_integer_ratio', 'bit_length', 'conjugate', 'denominator', 'from_bytes', 'imag', 'numerator', 'real', 'to_bytes']</p>
<h4 id="725-help">7.2.5 help</h4>
<pre><code class="language-python">语法结构：help(builtins.object)
</code></pre>
<p>返回内建对象的帮助信息</p>
<pre><code class="language-python">  help(help)
</code></pre>
<p>Help on _Helper in module _sitebuiltins object:</p>
<p>class _Helper(builtins.object)<br>
| Define the builtin 'help'.<br>
|<br>
| This is a wrapper around pydoc.help that provides a helpful message<br>
| when 'help' is typed at the Python interactive prompt.<br>
|<br>
| Calling help() at the Python prompt starts an interactive help session.<br>
| Calling help(thing) prints help for the python object 'thing'.<br>
|<br>
| Methods defined here:<br>
|<br>
| <strong>call</strong>(self, *args, **kwds)<br>
| Call self as a function.<br>
|<br>
| <strong>repr</strong>(self)<br>
| Return repr(self).</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Data descriptors defined here:</td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td><strong>dict</strong></td>
</tr>
<tr>
<td>dictionary for instance variables (if defined)</td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td><strong>weakref</strong></td>
</tr>
<tr>
<td>list of weak references to the object (if defined)</td>
</tr>
</tbody>
</table>
<h4 id="726-len">7.2.6 len</h4>
<p>返回对象的长度（元素个数）。实参可以是序列（如 string、bytes、tuple、list 或 range 等）或集合（如 dictionary、set 或 frozen set 等）。</p>
<pre><code class="language-python">语法结构：len(obj)
</code></pre>
<p>返回容器的元素个数</p>
<pre><code class="language-python">  len([1,2,3])
</code></pre>
<p>3</p>
<h4 id="727-hash">7.2.7 hash</h4>
<pre><code class="language-python">语法结构： hash(obj)
</code></pre>
<p>返回对象的 hash 值</p>
<pre><code class="language-python">  hash('a')
</code></pre>
<p>3636161774609400683</p>
<h4 id="728-iter">7.2.8 iter</h4>
<pre><code class="language-python">语法结构：iter(iterable)
</code></pre>
<p>根据传入的可迭代对象返回一个迭代器</p>
<pre><code class="language-python">  iter('abcd')
</code></pre>
<p>&lt;str_iterator at 0x7f98b7dd2eb0&gt;</p>
<h4 id="729-id">7.2.9 id</h4>
<pre><code class="language-python">语法结构：id(obj)
</code></pre>
<p>返回传入对象的身份 id（虚拟内存地址的整数形式）</p>
<pre><code class="language-python">  id(1)
</code></pre>
<p>4344134656</p>
<h4 id="7210-range">7.2.10 range</h4>
<p><a href="https://docs.python.org/zh-cn/3/library/stdtypes.html#range"><code>range</code></a> 实际上是一个不可变的序列类型</p>
<pre><code class="language-python">语法结构:
range(stop) -&gt; range object
range(start, stop[,step])
</code></pre>
<p>返回一个 range object 对象，产生整数序列</p>
<pre><code class="language-python">  range(10)
</code></pre>
<p>range(0, 10)</p>
<pre><code class="language-python">  range(0,10,2)
</code></pre>
<p>range(0, 10, 2)</p>

        </div>

        
          <a class="animated fadeInUp p-2 items-center text-sm text-gray-700 border hover:bg-gray-300 leading-none rounded-full flex lg:inline-flex m-4 " href="https://Shisuiyi.github.io/oQOHcoQAu/">
            <span class="flex-auto">python</span>
          </a>
        


        <div class="flex justify-between py-8">
          
            <div class="prev-post">
              <a href="https://Shisuiyi.github.io/rcsuyLWRc/">
                <h3 class="post-title">
                  <i class="ri-arrow-left-line"></i>
                   python 面向对象
                </h3>
              </a>
            </div>
          

          
            <div class="next-post">
              <a href="https://Shisuiyi.github.io/djnJ-yV6X/">
                <h3 class="post-title">
                  python程序流程控制
                  <i class="ri-arrow-right-line"></i>
                </h3>
              </a>
            </div>
          
        </div>

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '978584b9702b5d850dd5',
    clientSecret: 'b6647706cb7b990e2cd5ca77eccf73943df73a6c',
    repo: 'Shisuiyi.github.io',
    owner: 'shisuiyi',
    admin: ['shisuiyi'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

      </div>
    </div>

    <script src="https://Shisuiyi.github.io/media/prism.js"></script>  
<script>

Prism.highlightAll()
let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

// This should probably be throttled.
// Especially because it triggers during smooth scrolling.
// https://lodash.com/docs/4.17.10#throttle
// You could do like...
// window.addEventListener("scroll", () => {
//    _.throttle(doThatStuff, 100);
// });
// Only not doing it here to keep this Pen dependency-free.

window.addEventListener("scroll", event => {
  let fromTop = window.scrollY;

  mainNavLinks.forEach((link, index) => {
    let section = document.getElementById(decodeURI(link.hash).substring(1));
    let nextSection = null
    if (mainNavLinks[index + 1]) {
      nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
    }
    if (section.offsetTop <= fromTop) {
      if (nextSection) {
        if (nextSection.offsetTop > fromTop) {
          link.classList.add("current");
        } else {
          link.classList.remove("current");    
        }
      } else {
        link.classList.add("current");
      }
    } else {
      link.classList.remove("current");
    }
  });
});


document.addEventListener("DOMContentLoaded", function() {
  var lazyImages = [].slice.call(document.querySelectorAll(".post-feature-image.lazy"));

  if ("IntersectionObserver" in window) {
    let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          let lazyImage = entry.target
          lazyImage.style.backgroundImage = `url(${lazyImage.dataset.bg})`
          lazyImage.classList.remove("lazy")
          lazyImageObserver.unobserve(lazyImage)
        }
      });
    });

    lazyImages.forEach(function(lazyImage) {
      lazyImageObserver.observe(lazyImage)
    })
  } else {
    // Possibly fall back to a more compatible method here
  }
});

const menuContainer = document.querySelector('.menu-container')
const menus = document.querySelectorAll('.menu-container .menu')
const mask = document.querySelector('.mask')
const contentWrapper = document.querySelector('.content-wrapper')
const latestArticle = document.querySelector('.latest-article')
const readMore = document.querySelector('.read-more')
const indexPage = document.querySelector('.index-page')

const isHome = location.pathname === '/'
if (latestArticle) {
  latestArticle.style.display = isHome ? 'block' : 'none'
  readMore.style.display = isHome ? 'block' : 'none'
  indexPage.style.display = isHome ? 'none' : 'block'
}

const openMenu = () => {
  menuContainer.classList.add('open')
  menus.forEach(menu => {
    menu.classList.add('animated', 'fadeInLeft')
  })
  mask.classList.add('open')
  contentWrapper.classList.add('is-second')
}

const closeMenu = () => {
  menuContainer.classList.remove('open')
  menus.forEach(menu => {
    menu.classList.remove('animated', 'fadeInLeft')
  })
  mask.classList.remove('open')
  contentWrapper.classList.remove('is-second')
}
</script>
  
  </body>
</html>
